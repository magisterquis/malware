package main

/*
 * cmdpmsgs.go
 * Sends the protocol message buffer
 * By J. Stuart McMurray
 * Created 20160726
 * Last Modified 20160726
 */

import (
	"bytes"
	"strings"
)

/* join joins a new channel */
func init() {
	/* TODO: Randomify */
	RegisterCommand("pmsgs", &Command{
		Do: func(s *Server, replyto, args string) error {
			return s.SendStream(
				replyto,
				bytes.NewBufferString(strings.Join(
					s.PMBufGet(),
					string('\n'),
				)),
				nil,
			)
		},
		Help: "",
	})
}
